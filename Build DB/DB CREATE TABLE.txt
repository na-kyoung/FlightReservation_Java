-- FLIGHT RESERVATION
-- CREATE TABLE
-- 테이블 생성 (*순서 유의)
-- 순서 : ACCOUNT/START_NATION/END_NATION -> FLIGHT -> RESERVATION

-- 1. ACCOUNT
CREATE TABLE ACCOUNT
(
 ACCOUNT_ID      VARCHAR2(200) NOT NULL,
 ACCOUNT_PWD     VARCHAR2(200) NOT NULL,
 CONSTRAINT PK_1 PRIMARY KEY (ACCOUNT_ID)
);

-- 2. START_NATION
CREATE TABLE START_NATION
(
 START_NATION_ID       VARCHAR2(200) NOT NULL,
 START_NATION_NAME     VARCHAR2(200) NOT NULL,
 CONSTRAINT PK_2 PRIMARY KEY (START_NATION_ID)
);

-- 3. END_NATION
CREATE TABLE END_NATION
(
 END_NATION_ID       VARCHAR2(200) NOT NULL,
 END_NATION_NAME     VARCHAR2(200) NOT NULL,
 CONSTRAINT PK_3 PRIMARY KEY (END_NATION_ID)
);

-- 4. FLIGHT
CREATE TABLE FLIGHT
(
 FLIGHT_ID           VARCHAR2(200) NOT NULL,
 FLIGHT_DATE         DATE NOT NULL,
 FLIGHT_TIME         VARCHAR2(200) NOT NULL,
 FLIGHT_PRICE        VARCHAR2(200) NOT NULL,
 START_NATION_ID     VARCHAR2(200) NOT NULL,
 END_NATION_ID       VARCHAR2(200) NOT NULL,
 CONSTRAINT PK_4 PRIMARY KEY (FLIGHT_ID),
 CONSTRAINT FLIGHT_START_NATION FOREIGN KEY (START_NATION_ID) REFERENCES START_NATION (START_NATION_ID),
 CONSTRAINT FLIGHT_END_NATION FOREIGN KEY (END_NATION_ID) REFERENCES END_NATION (END_NATION_ID)
);

-- 5. RESERVATION
CREATE TABLE RESERVATION
(
 RESERVATION_ID        VARCHAR2(200) NOT NULL,
 RESERVATION_PRICE     VARCHAR2(200) NOT NULL,
 ACCOUNT_ID            VARCHAR2(200) NOT NULL,
 FLIGHT_ID             VARCHAR2(200) NOT NULL,
 CONSTRAINT PK_5 PRIMARY KEY (RESERVATION_ID),
 CONSTRAINT ACCOUNT_RESERVATION FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNT (ACCOUNT_ID),
 CONSTRAINT FLIGHT_RESERVATION FOREIGN KEY (FLIGHT_ID) REFERENCES FLIGHT (FLIGHT_ID)
);